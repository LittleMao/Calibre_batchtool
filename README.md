# 图书管理与元数据编辑系统

基于 Python 和 Calibre 核心 API 开发的图书库管理工具，提供直观的 Windows GUI 界面。

## 🌟 特性

  - 图书按加入时间倒序排列，最新入库一目了然。
  - 每页显示 50 本书，支持极速翻页。
  - 支持批量元数据修改和删除。
  - 关键词、语言、标签的多维度交叉搜索。
  - 集成基于 `tags.txt` 的多选复选框下拉列表。
  - 支持书名、作者、出版社、ISO 639-2 语言代码及 YYYY-MM-DD 日期的编辑。
  - **回收站浏览**：通过菜单"回收站 > 浏览回收站"查看已删除书籍，支持恢复到主库。
  - **清空回收站**：永久删除回收站内容，操作前需再次确认。
  - 列表显示缩略图，点击瞬间弹出高清原图。
  - 支持在应用内直接通过菜单切换不同的 Calibre 图书库。
  - 界面支持实时切换，默认提供中、英双语环境。

## 🚀 快速启动

本系统深度集成 Calibre 环境，请确保使用 Calibre 官方版本运行：

```powershell
# 运行 GUI 界面
& 'C:\Program Files\Calibre2\calibre-debug.exe' -e gui.py
```

## 🛠️ 配置说明

### 界面语言 (langs.ini)
系统通过 `langs.ini` 加载所有 UI 文本。
- 切换语言：在程序的"语言 (Language)"菜单中直接选择即可。
- 自定义描述：你可以编辑 `langs.ini` 里的键值对来修改按钮或标签的文字。
- 扩展语种：在 `langs.ini` 中新增一个段落（如 `[fr_FR]`），并补齐翻译条目，程序会自动检测并加载该语种。

### 标签规范 (tags.txt)
在程序同目录下创建 `tags.txt`，每行定义一个"标准标签"。系统将以此作为多选编辑的预选项，也是"非法标签"筛选的判定基准。

## ⚠️ 注意事项

- **数据安全**：修改会直接同步至 Calibre 数据库。删除的书籍会先移入回收站，可随时恢复。
- **日期规范**：保存日期请遵循 `YYYY-MM-DD` 格式。
- **交互细节**：双击封面为大图预览，双击其他区域为编辑。
- **回收站路径**：已删除的书籍存储在图书库目录下的 `.caltrash` 文件夹中。
